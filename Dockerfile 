# Standard Python image jisme gcc, curl sab pehle se hota hai
FROM python:3.10.12

# Working directory set kar rahe hain
WORKDIR /app

# Deno ke liye unzip aur curl install kar rahe hain
RUN apt-get update && apt-get install -y curl unzip && rm -rf /var/lib/apt/lists/*

# Deno ko globally install kar rahe hain
ENV DENO_INSTALL=/usr/local
RUN curl -fsSL https://deno.land/install.sh | sh

# Python requirements copy karke install kar rahe hain
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

# Bot ka saara code copy kar rahe hain
COPY . .

# Render free tier ko zinda rakhne ke liye port open kar rahe hain
EXPOSE 8080

# Bot start karne ka command
CMD ["python", "main.py"]
